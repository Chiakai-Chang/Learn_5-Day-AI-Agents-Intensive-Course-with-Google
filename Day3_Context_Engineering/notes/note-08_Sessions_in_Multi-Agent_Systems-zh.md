### 🎙️ 第 08 頁：Sessions_in_Multi-Agent_Systems

#### 【本頁重點摘要】
*   在多代理人系統中，資訊共享主要有兩種模式：共享統一歷史紀錄與獨立個別歷史紀錄。
*   **共享歷史紀錄**：所有代理人共用一個中央日誌，適用於需要單一事實來源的緊密協作任務。
*   **獨立歷史紀錄**：每個代理人維護自己的私有日誌，像個「黑盒子」，適用於需要解耦和過程隱私的任務。

---

#### 【逐字講稿】

(開場白)
好，我們剛剛理解了 Session 如何為「單一」代理人保存對話狀態。但現在，讓我們把格局放大：如果我們建立的不是一個孤單的代理人，而是一個各司其職、需要互相合作的「代理人團隊」，情況會變成怎麼樣呢？它們之間該如何溝通、如何共享資訊？這就是我們這一頁要探討的核心問題。

在深入探討兩種主要架構之前，我們必須先釐清一個非常重要的觀念。

> 請記住，代理人系統的「完整對話歷史紀錄」，不等於每一次傳送給 LLM 的「上下文」。

完整的歷史紀錄就像是會議中一字不漏的逐字稿，記錄了所有人的發言。而上下文，則是為了讓 LLM 完成某個特定任務，從逐字稿中精心挑選、甚至重新編排的「摘要報告」。這兩者是不同的。這一頁我們關注的是，代理人團隊之間如何傳遞那份完整的「逐字稿」。

##### ① 第一種模式：共享且統一的歷史紀錄 (Shared, Unified History)
首先，最直觀的方法，就是讓所有代理人共用一本帳本。在這個模式下，系統中會有一個**單一的、中央的對話日誌**。

不論是哪個代理人的訊息、工具呼叫、還是觀察結果，所有事件都會按照時間順序，被記錄到這個唯一的中央日誌裡。這就像一個團隊共同編輯一份 Google 文件，每個人都能看到完整的歷史紀錄和最新進度。

這種方法最適合**高度耦合、需要緊密協作**的任務。例如，一個多步驟的解題流程，前一個代理人的輸出，就是下一個代理人的直接輸入。在這種情況下，擁有一個單一、透明的「事實來源 (single source of truth)」至關重要。

##### ② 第二種模式：獨立且個別的歷史紀錄 (Separate, Individual Histories)
另一種方法則完全相反。在這個模式中，每個代理人都維護著自己**私有的對話歷史紀錄**，就像一個個獨立的「黑盒子」。

它們內部的思考過程、中間步驟、工具使用細節，全都保存在自己的小本本裡，對其他代理人是完全不透明的。溝通只會透過「明確的訊息」來進行，也就是說，一個代理人只會告訴別人它最終的結論或產出，而不會透露它是如何得到這個結論的。

這種模式的實現方式，通常是把一個代理人包裝成另一個代理人的「工具」(Agent-as-a-Tool)，或是使用標準化的「代理人對代理人協議」(A2A Protocol) 來進行直接通訊。這就像團隊成員各自完成自己的報告，然後只透過 Email 把最終的 PDF 檔寄給對方，中間的草稿和修改過程別人是看不到的。

這種模式最適合**任務可以被清楚切割、彼此之間比較獨立**，而且希望保持各自運作隱私的場景。

---

#### 【講者提示 & 轉場】
*   **節奏提醒**：講完這兩種模式後，可以稍微停頓一下，讓聽眾消化「共用 Google 文件」和「互寄 Email 報告」這兩種截然不同的協作風格。
*   **補充案例**：可以強調，這兩種模式沒有絕對的好壞，完全取決於你想解決的問題類型。緊密協作選「共享」，獨立分工選「分離」。
*   **轉場橋樑 (Bridge)**：
    > 無論我們選擇哪種資訊共享模式，當系統從原型走向真實世界時，都會面臨一個共同的挑戰：如何讓這些 Session 變得安全、可靠且能夠規模化？這就帶我們進入下一頁的重點：生產環境中對 Session 的考量。