```markdown
### 🎙️ 第 12 頁：Deep Dive: MCP Tool Definition and Schema

#### 【本頁重點摘要】
*   MCP 的 `Tool` 是核心實體，其定義遵循一個標準化的 JSON 綱要 (Schema)。
*   關鍵欄位包括 `name` (唯一識別碼)、`description` (給 AI 看的功能描述) 和 `inputSchema` (輸入參數的契約)。
*   `description` 欄位對於模型的推理至關重要，它直接影響模型是否以及如何選擇使用該工具。
*   `outputSchema` 雖然可選，但強烈建議提供，它定義了工具的輸出結構。
*   `annotations` 提供關於工具行為的「提示」(例如是否唯讀)，但這些提示並不可靠，需謹慎使用。

---

#### 【逐字講稿】

(開場白)
好的，我們剛剛看過了 MCP 定義的幾種關鍵原語 (Primitives)，其中最重要的，也是目前被最廣泛支援的，就是 `Tool`。現在，讓我們深入地剖析一下，一個 MCP 工具的「身分證」到底長什麼樣子。這張身分證，就是一個標準化的 JSON 檔案。

##### ① 核心身份：名稱、標題與描述

首先，我們來看一個工具最核心的身份識別欄位。

*   **`name`**：這是工具的唯一識別碼，像是 `get_stock_price`。它主要是給機器看的，必須是獨一無二的。
*   **`title`**：這是一個可選但強烈建議要有的欄位，它是給人看的、更友善的名稱，例如「股價查詢工具」。
*   **`description`**：各位，請注意，**這是整個定義中最關鍵的欄位**。它不僅僅是一段描述文字，它更是直接寫給 LLM 看的「使用說明書」。模型會根據這段描述來判斷「我該不該用這個工具？」以及「這個工具能幫我做什麼？」。

> 一個好的 `description` 應該用清晰、簡單的語言來說明工具的功能。原始文件中也再三強調，即使 `title` 和 `description` 在規格中是可選的，我們也應該永遠把它們當作必填欄位來提供。

##### ② 工具的契約：輸入與輸出綱要

接下來是 `inputSchema` 和 `outputSchema`，你可以把它們想像成是這個工具對外簽署的「服務契約」。

*   **`inputSchema`**：這份契約定義了工具需要什麼參數才能工作。例如，我們的「股價查詢工具」可能需要一個 `symbol` (股票代碼) 和一個可選的 `date` (日期)。這個綱要確保了客戶端能傳遞正確的資料。
*   **`outputSchema`**：這定義了工具會回傳什麼樣的結果。同樣地，即使規格上說這是可選的，但我們應該永遠提供它。它不僅能幫助客戶端驗證回傳的資料，更重要的是，它也告訴了 LLM 使用這個工具能「得到什麼好處」，這同樣會影響模型的決策。

##### ③ 行為警告標籤：註解 (Annotations)

最後是 `annotations` 欄位。你可以把它看作是貼在工具上的一些「行為提示」或「警告標籤」。

例如，`readOnlyHint` 會提示這個工具是不是唯讀的、安不安全的；而 `destructiveHint` 則會警告你，這個工具可能會執行破壞性的操作，比如刪除檔案。

但這裡有一個非常重要的安全警告：

> 這些註解**僅僅是「提示」(Hints)**，並不保證其描述的行為是準確的。

這意味著，一個惡意的伺服器完全可以在註解中說謊，聲稱自己是唯讀的，但實際上卻在偷偷刪除你的資料。因此，對於來自不受信任來源的工具，絕對不能依賴這些註解。

---

#### 【講者提示 & 轉場】
*   **節奏提醒**：在講完 `description` 的重要性後，可以稍微停頓一下，讓聽眾消化這個核心觀念。這是模型能否正確使用工具的關鍵。
*   **補充案例**：可以口頭提及，我們剛剛討論的 `get_stock_price` 範例，就是源自 MCP 官方文件中的一個經典例子，展示了這些欄位如何被實際應用。
*   **轉場橋樑 (Bridge)**：
    > 好了，我們現在已經了解了一個工具是如何被「定義」出來的，就像看懂了它的履歷和規格書。那麼，當我們實際去呼叫 (call) 這個工具後，它會回傳什麼給我們呢？下一頁，我們就來看看工具的「回傳結果 (Results)」以及當事情出錯時的「錯誤處理機制」。
```