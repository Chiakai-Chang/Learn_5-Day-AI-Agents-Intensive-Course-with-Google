```markdown
### 🎙️ 第 17 頁：關鍵挑戰：效能與擴展性瓶頸

#### 【本頁重點摘要】
*   **情境視窗膨脹 (Context Window Bloat)**：將所有可用工具的定義與參數都塞入模型的 Prompt 中，會大量消耗 Token、增加成本與延遲。
*   **推理品質下降**：過於擁擠的情境視窗會干擾模型的判斷力，使其難以選擇最合適的工具，或忘記用戶的原始意圖。
*   **未來解方**：為了解決擴展性問題，未來架構可能會轉向「動態工具檢索」，也就是讓 AI 代理先搜尋最相關的工具，再載入其定義。

---

#### 【逐字講稿】

(開場白)
好，我們剛剛看到了 MCP 帶來的巨大優勢，它讓工具整合變得前所未有的簡單。但俗話說，能力越強，責任越重...在這裡，則是「能力越強，效能的頭痛問題就越大」。這就是我們現在要面對的關鍵挑戰：效能與擴展性。

##### ① 第一個，也是最直接的問題：情境視窗膨脹 (Context Window Bloat)
各位可以想像一下，為了讓模型知道有哪些工具可以用，我們必須把**每一個**連接上的 MCP 伺服器、**每一個**工具的完整定義、描述、輸入和輸出參數...全部都放進每一次的請求（Prompt）裡。

這會發生什麼事？

> 這就像你每次要打電話前，都必須先把整本電話簿從頭到尾讀一遍。這不僅浪費時間，而且成本極高。

在 AI 的世界裡，這意味著三件事：
*   **成本增加**：更多的工具定義，就等於更多的 Token，費用也就跟著上漲。
*   **延遲變高**：模型需要處理的資訊越多，回應速度就越慢。
*   **擠壓關鍵資訊**：更糟的是，這些工具定義會佔用寶貴的空間，可能會把真正重要的資訊，比如我們跟用戶的對話歷史，給擠出情境視窗外。

##### ② 第二個問題：推理品質下降
情境視窗膨脹不只是成本問題，它還會讓我們的 AI 模型「變笨」。

當你給模型幾十甚至上百個工具選項時，它就開始感到困惑。它可能很難在眾多工具中，精準地找出當下最適合的那一個，甚至可能完全迷失方向，忘記了用戶一開始到底想做什麼。

這會導致一些非常奇怪的行為，例如：明明有一個完美的工具擺在眼前，它卻選擇忽略；或者，它叫用了一個完全不相干的工具，只因為描述中有某個關鍵字看起來很像。這就是**推理能力下降**的直接後果。

##### ③ 那未來該怎麼辦？動態工具檢索 (Dynamic Tool Retrieval)
顯然，把所有工具都預先載入的作法是行不通的，它無法規模化。因此，整個架構的思維可能需要轉變。

未來的方向，可能會是一種**類似 RAG (檢索增強生成) 的工具探索模式**。

> 也就是說，代理人 (Agent) 不再是「被動接收」所有工具，而是「主動搜尋」。

當代理人接到一個任務時，它會先對一個龐大的、已經建立好索引的工具庫進行「工具檢索」，找出最相關的幾個工具。然後，**只把這幾個工具的定義**載入到它的情境視窗中來執行。

這將會是一個巨大的轉變，從過去那種靜態、暴力載入的方式，變成一種動態、智慧且可擴展的搜尋模式。這也將在我們的 AI 代理架構中，催生出一個全新的、必要的「工具檢索層」。

---

#### 【講者提示 & 轉場】
*   **節奏提醒**：在講到「情境視窗膨脹」的後果時，可以稍微停頓，讓聽眾感受這個問題的嚴重性。
*   **補充案例**：可以舉例，如果一個企業有 10 個部門，每個部門提供 10 個工具，那代理人每次就要處理 100 個工具的定義，這個數字很容易失控。
*   **轉場橋樑 (Bridge)**：
    > 了解了這些效能與擴展性的瓶頸後，我們來看看另一個更現實的問題。當我們想把 MCP 真正導入到企業環境時，還會遇到哪些功能上的「整備度差距」呢？下一頁，我們來探討這個議題。
```